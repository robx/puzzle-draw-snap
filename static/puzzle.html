<!doctype html>
<html>
<head></head>
<body>
<script src="jquery.js"></script>
 
<h3>puzzle-draw demo</h3>

<p>
Renders a puzzle description to svg.
</p>

<div><textarea id="puzzle" rows="20" cols="80" style="font-family: monospace">
type: fillomino
puzzle: |
  1234
  ....
  ....
  3...
solution: |
  1234
  3234
  3134
  3224
</textarea></div>
<div>
<input type="radio" name="output" value="puzzle" checked=1>puzzle</input>
<input type="radio" name="output" value="solution">solution</input>
<input type="radio" name="output" value="both">both</input>


<button id="updateButton" value="Update">Update</button></div>
<div><img id="drawing" /></div>
<script>
$("#updateButton").click(function(event) {
    $.ajax({
        url: "/puzzle?" + $.param({
            output: $("input[name=output]:checked").val()
        }),
 
        data: $("#puzzle").val(),
 
        type: "POST",
        contentType: "application/x-yaml",
        processData: false,
 
        dataType : "text",
 
        success: function(text) {
            $("#drawing").attr("src", "data:image/svg+xml," + text);
        }
    });
});

</script>
 
</body>
</html>
